[Script Info]
; Script generated by Aegisub 3.1.3
; http://www.aegisub.org/
Title: Default Aegisub file
ScriptType: v4.00+
WrapStyle: 0
ScaledBorderAndShadow: yes
YCbCr Matrix: None
Aegisub Scroll Position: 0
Aegisub Active Line: 0
Aegisub Video Zoom Percent: 1.000000

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,Arial,20,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,2,2,2,10,10,10,1

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Comment: 0,0:00:00.00,0:00:00.00,Default 3,,0,0,0,code syl all,function char_counter(ref) ci[ref] = ci[ref] + 1; return "" end ;
Comment: 0,0:00:00.00,0:00:00.00,Default 3,,0,0,0,code line all,ci = { 0,0 }; cn = _G.unicode.len(orgline.text_stripped:gsub(" ",""))
Comment: 0,0:01:03.23,0:01:03.23,Default 3,,0,0,0,code line all,temp = {}; ci = {0,0}; cn = _G.unicode.len(orgline.text_stripped:gsub(" ","")); function set_temp(ref,val) temp[ref] = val return val end; delay = 800; delay_2 = 300
Comment: 0,0:00:00.00,0:00:00.00,Default 3,,0,0,0,code once all,function AutoTags(Intervalo,Dato1,Dato2)            local RESULTADO=""     local SUERTE = 0     local CONTADOR = 0     local ARREGLO = 0                           local count = math.ceil(line.duration/Intervalo)                 			ARREGLO = {Dato1,Dato2}    			              for i = 1, count do               CONTADOR = i    	    	    		if Dato1 and Dato2 then     					if  CONTADOR%2 ==0 then    								SUERTE = ARREGLO[1]    					else    								SUERTE = ARREGLO[2]    					end	    		end     				    	RESULTADO = RESULTADO .."\\t(" ..(i-1)*Intervalo.. "," ..i*Intervalo.. ",\\" ..SUERTE..")"..""     			     end         		     return RESULTADO	  	    	               end
Comment: 0,0:00:00.00,0:00:00.00,Default 3,,0,0,0,code once,function fscxy(valorx1, valory1,valorx2, valory2,Aleatorio)   		if not valory1 and not valorx2 and not valory2 then  			Uno = "\\fscx" ..math.floor(valorx1).. "\\fscy" ..math.floor(valorx1)..""  			return Uno; 		end 		 		if not  valorx2 and not valory2 then  			Dos = "\\fscx" ..math.floor(valorx1).. "\\fscy" ..math.floor(valory1)..""  			return Dos; 		end 		 		if not valory2 then  			valorxalter = math.random(valorx1,valorx2);   			tres = "\\fscx" ..math.floor(valorxalter).. "\\fscy" ..math.floor(valory1)..""  			return tres; 		end 		   		if valorx2 and valory2 then 			 			if Aleatorio then  				valorx=math.random(valorx1,valorx2) 				valory=math.random(valory1,valory2) 			else			 					VecX = {valorx1,valorx2} 					VecY = {valory1,valory2} 					 					function DesIgualar() 						valorx = VecX[math.random(1,2)];   						valory = VecY[math.random(1,2)];   						while valorx==valory do 							DesIgualar() 						end 					end 					 					DesIgualar() 			end 			 			cuatro = "\\fscx" ..math.floor(valorx).. "\\fscy" ..math.floor(valory)..""  			return cuatro; 		end	   end
Comment: 0,0:00:00.00,0:00:00.00,Default 3,,0,0,0,code syl all,function char_counter(ref) ci[ref] = ci[ref] + 1; return "" end
Comment: 0,0:00:00.00,0:00:00.00,Default 3,,0,0,0,code line all,ci = {0,0,0,0,0,0}; cn = _G.unicode.len(orgline.text_stripped:gsub(" ",""))
Comment: 0,0:00:00.00,0:00:00.00,Default 3,,0,0,0,code once,function autoblur() tag = "" i = 1 while i <= #line.kara do tag = tag..string.format("\\t(%d,%d,\\blur%d)\\t(%d,%d,\\blur%d)",line.kara[i].start_time-100,line.kara[i].start_time,20,line.kara[i].start_time,i == #line.kara and line.kara[i].end_time+500 or line.kara[i].end_time,5) i = i +1 end return tag end; function autobord() tag = "" i = 1 while i <= #line.kara do tag = tag..string.format("\\t(%d,%d,\\bord%d)\\t(%d,%d,\\bord%d)",line.kara[i].start_time-100,line.kara[i].start_time,7,line.kara[i].start_time,i == #line.kara and line.kara[i].end_time+500 or line.kara[i].end_time,2) i = i +1 end return tag end
Comment: 0,0:00:00.00,0:00:00.00,Default 3,,0,0,0,,set the maximum spacing between objects(particles) to max_space (recommend:3 - 6)  fine but heavy < 3 4 5 6 > rough but light
Comment: 0,0:00:00.00,0:00:00.00,Default 3,,0,0,0,code once,max_space = 3
Comment: 0,0:00:00.00,0:00:00.00,Default 3,,0,0,0,code syl all,fxgroup.A = (math.mod(syl.i,2) == 0)
Comment: 0,0:00:00.00,0:00:00.00,Default 3,,0,0,0,code syl all,fxgroup.B = (math.mod(syl.i,2) == 1)
Comment: 0,0:00:00.00,0:00:00.00,Default 3,Get Scr Resolution,0,0,0,code once,xres, yres = _G.aegisub.video_size() if xres == nil  then ratio = 1 else ratio = xres/1024 x_rat = ratio end if (xres and xres ~= meta.res_x) or (yres and yres ~= meta.res_y) then _G.aegisub.debug.out(2, "Warning: script resolution %dx%d does not match with loaded video resolution %dx%d resample script resolution", meta.res_x, meta.res_y, xres, yres) end
Comment: 0,0:00:00.00,0:00:00.00,Default 3,Get Frame Dur,0,0,0,code once,msa = _G.aegisub.ms_from_frame(1) msb = _G.aegisub.ms_from_frame(100) if msa == nil and msb == nil then _G.aegisub.debug.out(2, "Warning: Please load the video or use dummy video.Frame duration was provisionally set to 33 milliseconds. ") frame_dur = 33  else frame_dur = (msb-msa)/100 end
Comment: 0,0:00:00.00,0:00:00.00,Default 3,,0,0,0,code once,function set_temp(ref,val) temp[ref] = val return val end
Comment: 0,0:00:00.00,0:00:00.00,Default 3,shape,0,0,0,code once,shape = {"m 5 0 b 2 0 0 2 0 5 b 0 8 2 10 5 10 b 8 10 10 8 10 5 b 10 2 8 0 5 0","m 30 23 b 24 23 24 33 30 33 b 36 33 37 23 30 23 m 35 27 l 61 28 l 35 29 m 26 27 l 0 28 l 26 29 m 29 23 l 30 0 l 31 23 m 29 33 l 30 57 l 31 33","m 5 0 b -2 0 -2 10 5 10 b 12 10 12 0 5 0}{\1c&HFFFFFF&\3c&HFFFFFF&} {m 2 0 b 9 0 9 10 2 10 b -5 10 -5 0 2 0 "}
Comment: 0,0:00:00.00,0:00:00.00,Default 3,,0,0,0,code once,x = {} y = {} temp = {}
Comment: 0,0:00:00.00,0:00:00.00,Default 3,,0,0,0,code syl all,t = 0 pos_x = syl.center pos_y = line.middle
Comment: 0,0:00:00.00,0:00:00.00,Default 3,,0,0,0,code once,function shape2() return string.format("{\\alpha&HFF&\\t(%d,%d,\\alpha&H00&\\3a&HA0&\\bord%f} m 30 23 b 24 23 24 33 30 33 b 36 33 37 23 30 23 m 35 27 l 61 28 l 35 29 m 26 27 l 0 28 l 26 29 m 29 23 l 30 0 l 31 23 m 29 33 l 30 57 l 31 33 {\\alpha&H00&\\t(%d,%d,\\alpha&HFF&} m -31 -23 b -38 -23 -38 -13 -31 -13 b -24 -13 -24 -23 -31 -23",dur-dur*t,dur-dur*t+1,1*ratio,dur-dur*t,dur-dur*t+1) end
Comment: 0,0:00:00.00,0:00:00.00,Default 3,,0,0,0,code once,function tags(dur)  tag =  string.format("\\t(%d,%d,\\fscx%d\\fscy%d)\\t(%d,%d,\\fscx%d\\fscy%d)\\t(%d,%d,\\fscx%d\\fscy%d)\\t(%d,%d,\\fscx%d\\fscy%d)",set_temp("time",math.random(dur-200)),temp.time+1,set_temp("size",math.random(50,100)*ratio),temp.size,temp.time+2,temp.time+100,25*ratio,25*ratio,temp.time+101,temp.time+102,set_temp("size",math.random(100,200)*ratio),temp.size,temp.time+303,temp.time+200,25*ratio,25*ratio) return tag end
Comment: 0,0:00:00.00,0:00:00.00,Default 3,Glitter Effects Function,0,0,0,code once,function glitter(dur)  if (dur > 1000) then tag =  string.format("\\t(%d,%d,\\fscx%d\\fscy%d)\\t(%d,%d,\\fscx%d\\fscy%d)\\t(%d,%d,\\fscx%d\\fscy%d)\\t(%d,%d,\\fscx%d\\fscy%d)",set_temp("time",math.random(800-800*t,dur)),temp.time+1,set_temp("size",math.random(50,100)*ratio),temp.size,temp.time+2,temp.time+100,25*ratio,25*ratio,temp.time+101,temp.time+102,set_temp("size",math.random(50,100)*ratio),temp.size,temp.time+103,temp.time+200,25*ratio,25*ratio) return tag else return "" end end
Comment: 0,0:00:00.00,0:00:05.00,Default 3,Control Point Generator,0,0,0,code once,function point_gene(s_point_x,s_point_y,e_point_x,e_point_y,c_num,x_range,y_range) if (j==1) then arg = {} for i = 3,c_num*2-2,2 do  arg[i] = line.left+syl.center+math.random(-x_range,x_range) arg[i+1] = line.middle+math.random(-y_range,y_range) end arg[1] = s_point_x arg[2] = s_point_y arg[c_num*2-1] = e_point_x arg[c_num*2] = e_point_y end return _G.unpack(arg) end
Comment: 0,0:00:00.00,0:00:00.00,Default 3,Bezier Effects Function,0,0,0,code once,function Bezier_Move(s_time,e_time,aftimg_dur,x_blur,y_blur,acl,...) a = {...} if (j == 1) then t1 = s_time t2 = e_time dur = t2-t1 accel = acl n = #a/2 for i = 1,n*2-1,2 do x[(i+1)/2] = a[i] end for i = 2, n*2,2 do y[i/2] = a[i] end c_t = 0 maxloop(2) f_t = 1/(dur/frame_dur) end afterimage_dur = aftimg_dur if (afterimage_dur < 0 ) then afterimage_dur = 0 end pos_x, pos_y = Bezier(n,x,y,c_t) n_t = c_t + f_t n_x, n_y = Bezier(n,x,y,n_t) dist = math.sqrt(math.abs(n_x-pos_x)^2+math.abs(n_y-pos_y)^2) a_t =f_t*(max_space/dist) if (a_t > f_t) then a_t = f_t end n_t = c_t + a_t if (n_t < 1) then maxj = j + 1 end retime("presyl",t1+dur*(c_t^accel),t1+dur*(n_t^accel)+afterimage_dur) t = c_t c_t = n_t return string.format("\\move(%f,%f,%f,%f,%f,%f)",pos_x,pos_y,pos_x+x_blur,pos_y+y_blur,dur-dur*t,dur-dur*t+afterimage_dur) end
Comment: 0,0:00:00.00,0:00:00.00,Default 3,Bezier Effects Function,0,0,0,code once,function Bezier(n,x,y,t) p_x = 0 p_y = 0 for i = 1, n, 1 do p_y = p_y + y[i] * set_temp("bern",bernstein(i-1,n-1,t)) p_x = p_x + x[i] * temp.bern  end return p_x, p_y end
Comment: 0,0:00:00.00,0:00:00.00,Default 3,Bezier Effects Function,0,0,0,code once,function bernstein(i,n,t) return (factk(n) / (factk(i)*factk(n-i))) * (t^i) * ((1-t)^(n-i)) end
Comment: 0,0:00:00.00,0:00:00.00,Default 3,Bezier Effects Function,0,0,0,code once,function factk(n) k = 1 if (n > 1) then for i = 2, n, 1 do k = k * i end end return k end
Comment: 0,0:00:00.00,0:00:00.00,Default 3,Bezier Curve Glitter,0,0,0,template noblank notext fxgroup A,{!Bezier_Move(-2000,0,2000+2000*t,math.random(-150,150)*ratio,math.random(-50,50)*ratio,1,point_gene($center+math.random(-200,200)*ratio,$middle+math.random(-200,200)*ratio,$center,$middle,5,200,100))!\an5\fscx!50*x_rat!\fscy!50*x_rat!\1c&HFFFFFF&\3c!_G.ass_color(_G.HSV_to_RGB(360*(syl.i/$syln)*t,1,1))!\shad0\blur!5*x_rat!\t(\3c&HFFFFFF&)\fad(0,300)\fr45\bord!1*ratio!!glitter(line.duration)!\p2}!shape2()!
Comment: 0,0:00:00.00,0:00:00.00,Default 3,Bezier Curve Glitter,0,0,0,template noblank notext fxgroup B,{!Bezier_Move(-2000,0,2000+2000*t,math.random(-50,50)*ratio,math.random(-500,500)*ratio,1,point_gene($center-math.random(30,50),$middle-math.random(20,50),$center,$middle,5,200,100))!\an5\fscx!50*x_rat!\fscy!50*x_rat!\1c&HFFFFFF&\3c!_G.ass_color(_G.HSV_to_RGB(360*(syl.i/$syln)*t,1,1))!\shad0\blur!5*x_rat!\t(\3c&HFFFFFF&)\fad(0,300)\fr45\bord!1*ratio!!glitter(line.duration)!\p2}!shape2()!
Comment: 2,0:00:00.00,0:00:00.00,Default 3,heart phase 1,0,0,0,Template noblank,!retime("presyl",-700,0)!{\fad(300,0)\an7\frz!math.random(-100,100)!)\3c!_G.ass_color(_G.HSV_to_RGB(360*(syl.i/$syln)*$kdur,1,1))!\1c&HFFFFFF&)\bord1\blur10\shad0\move($scenter,!$smiddle-100!,$scenter,!$smiddle-10!,0,700)\fscx80\fscy80\t(0,700,\frz!randomFRZ!)\p1}m 0 -7 b 7 -22 17 -12 14 -4 b 14 0 0 11 0 13 b 0 11 -14 0 -14 -4 b -16 -12 -7 -22 0 -7 m -11 -11 b -13 -11 -13 -7 -10 -8 b -9 -8 -9 -11 -11 -11 m -13 -5 b -13 -1 -6 5 -2 8 b -1 9 0 8 -1 7 b -3 6 -11 -1 -12 -5 b -12 -6 -13 -6 -13 -5 "
Comment: 0,0:00:00.00,0:00:00.00,Default 3,,0,0,0,Template noblank notext loop 6,!retime("syl",0,1500)!{\an5\3c!_G.ass_color(_G.HSV_to_RGB(360*(syl.i/$syln)*$kdur,1,1))!\1c&HFFFFFF&)\bord1\blur10\fscx80\fscy80\move($scenter,!$smiddle+100!,!$scenter+math.random(-700,700)!,!$smiddle+math.random(-1000,1000)!,0,1500)\t(0,1500,\fry!math.random(-10000,10000)!\t(1000,2000,\fscx1\fscy1\fad(0,500))\p2}m 16 30 b 28 22 30 18 30 14 b 32 8 22 -2 16 10 b 10 -2 0 8 2 14 b 2 18 4 22 16 30 "
Comment: 0,0:00:00.00,0:00:00.00,Default 3,,0,0,0,template noblank char,!char_counter(1)!!retime("start2syl",-1200+(ci[1]-1)*35,0)!{\fad(500,0)\an5\moves4(!$scenter!,!$smiddle-70*(-1)^(syl.i+1)!,!$scenter!,!$smiddle+70*(-1)^(syl.i+1)!,!$scenter!,!$smiddle-70*(-1)^(syl.i+1)!,$scenter,$smiddle,0,1000)\bord1\shad1\blur0\1vc(&HFFFFFF&,&HFFFFFF&,&H54899F&,&H9EE2FF&,&H00B4FF&)\3c&H027FB4&\2c&H027FB4&}
Comment: 2,0:00:00.00,0:00:00.00,Default 3,hilight,0,0,0,template multi,!retime("syl",0,300)!{\an5\pos($center,$middle)\t(0,33,\fscx120\fscy120\blur8\bord2\3c!_G.ass_color(_G.HSV_to_RGB(360*(syl.i/$syln)*$kdur,1,1))!\1c&HFFFFFF&\t(33,$dur,\fscx100\fscy100)\fad(0,300)}
Comment: 0,0:00:00.00,0:00:00.00,Default 3,lead-out,0,0,0,template syl noblank char,!char_counter(1)!!retime("syl2end",0,420-(cn-ci[1])*15)!{\fad(0,200)\1vc(!(xno[$si] == 1) and c[1] or ((xno[$si] == 2) and c[2] or ((xno[$si] == 3) and c[3] or ((xno[$si] == 4) and c[4] or c[5])))!,\bord2\blur5\3c!_G.ass_color(_G.HSV_to_RGB(360*(syl.i/$syln)*t,1,1))!\1c&HFFFFFF&\!(xno[$si] == 1) and c[1] or ((xno[$si] == 2) and c[2] or ((xno[$si] == 3) and c[3] or ((xno[$si] == 4) and c[4] or c[5])))!)\bord2\blur5\3c!_G.ass_color(_G.HSV_to_RGB(360*(syl.i/$syln)*t,1,1))!\1c&HFFFFFF&\an5\moves4($center,$middle,$center,!$middle-((-1)^ci[1])*70!,!$center-((-1)^ci[1])*70!,!$middle+((-1)^ci[1])*-20!,!$center+((-1)^ci[1])*400!,!$middle-((-1)^ci[1])*150!,!line.duration-leadin!,!line.duration!)\t(!line.duration-700!,!line.duration-500!\bord2\blur5\3c!_G.ass_color(_G.HSV_to_RGB(360*(syl.i/$syln)*t,1,1))!\1c&HFFFFFF&\t(!line.duration-500!,!line.duration!,\fry!((-1)^ci[1])*360!)}
Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,
