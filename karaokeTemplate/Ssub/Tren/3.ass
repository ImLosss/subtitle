[Script Info]
; Script generated by Aegisub 3.1.3
; http://www.aegisub.org/
Title: Default Aegisub file
ScriptType: v4.00+
WrapStyle: 0
PlayResX: 1024
PlayResY: 576
ScaledBorderAndShadow: yes
Video Aspect Ratio: 0
Video Zoom: 4
Video Position: 0
Last Style Storage: Default
Export Encoding: UTF-16
Aegisub Scroll Position: 0
Aegisub Active Line: 27
Aegisub Video Zoom Percent: 1.000000

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Roma3-furigana,Arial,13,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,0.75,0.75,7,50,10,23,1
Style: Roma2-furigana,Arial,13,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,0.75,0.75,7,50,10,23,1
Style: Roma1-furigana,Arial,13,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,0.75,0.75,7,50,10,23,1
Style: Roma-furigana,Arial,13,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,0.75,0.75,7,50,10,23,1
Style: Default-furigana,Arial,12,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,1.2,1.2,2,16,16,12,1
Style: Default,Arial,35,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,2.4,2.4,2,16,16,30,1
Style: Roma1,Arial,35,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,2,2,7,50,10,40,1
Style: Roma2,Arial,35,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,2,2,7,50,10,40,1
Style: Roma3,Arial,35,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,2,2,7,50,10,40,1

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,,set the maximum spacing between objects(particles) to max_space (recommend:3 - 6)  fine but heavy < 3 4 5 6 > rough but light
Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,code once,max_space = 3
Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,code syl all,fxgroup.A = (math.mod(syl.i,2) == 0)
Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,code syl all,fxgroup.B = (math.mod(syl.i,2) == 1)
Comment: 0,0:00:00.00,0:00:00.00,Default,Get Scr Resolution,0,0,0,code once,xres, yres = _G.aegisub.video_size() if xres == nil  then ratio = 1 else ratio = xres/1024 x_rat = ratio end if (xres and xres ~= meta.res_x) or (yres and yres ~= meta.res_y) then _G.aegisub.debug.out(2, "Warning: script resolution %dx%d does not match with loaded video resolution %dx%d resample script resolution", meta.res_x, meta.res_y, xres, yres) end
Comment: 0,0:00:00.00,0:00:00.00,Default,Get Frame Dur,0,0,0,code once,msa = _G.aegisub.ms_from_frame(1) msb = _G.aegisub.ms_from_frame(100) if msa == nil and msb == nil then _G.aegisub.debug.out(2, "Warning: Please load the video or use dummy video.Frame duration was provisionally set to 33 milliseconds. ") frame_dur = 33  else frame_dur = (msb-msa)/100 end
Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,code once,function set_temp(ref,val) temp[ref] = val return val end
Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,code once,heart = {} heart[1] = {x=0,y=16} heart[2] = {x=3,y=12} heart[3] = {x=8,y=8} heart[4] = {x=11,y=4} heart[5] = {x=13,y=-1} heart[6] = {x=13,y=-6} heart[7] = {x=12,y=-9} heart[8] = {x=9,y=-11} heart[9] = {x=4,y=-11} heart[10] = {x=2,y=-8} heart[11] = {x=0, y=-5} heart[12] = {x=-2,y=-8} heart[13] = {x=-4,y=-11} heart[14] = {x=-9,y=-11} heart[15] = {x=-12,y=-9} heart[16] = {x=-13,y=-6} heart[17] = {x=-13,y=-1} heart[18] = {x=-11,y=4} heart[19] = {x=-8,y=8} heart[20] = {x=-4,y=12}
Comment: 0,0:00:00.00,0:00:00.00,Default,shape,0,0,0,code once,shape = {"m 5 0 b 2 0 0 2 0 5 b 0 8 2 10 5 10 b 8 10 10 8 10 5 b 10 2 8 0 5 0","m 30 23 b 24 23 24 33 30 33 b 36 33 37 23 30 23 m 35 27 l 61 28 l 35 29 m 26 27 l 0 28 l 26 29 m 29 23 l 30 0 l 31 23 m 29 33 l 30 57 l 31 33","m 5 0 b -2 0 -2 10 5 10 b 12 10 12 0 5 0 {\\1c&HFFFFFF&\\3c&HFFFFFF&} m 2 0 b 9 0 9 10 2 10 b -5 10 -5 0 2 0 "}
Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,code once,x = {} y = {} temp = {}
Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,code syl all,t = 0 pos_x = syl.center pos_y = line.middle
Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,code once,function tags(dur)  tag =  string.format("\\t(%d,%d,\\fscx%d\\fscy%d)\\t(%d,%d,\\fscx%d\\fscy%d)\\t(%d,%d,\\fscx%d\\fscy%d)\\t(%d,%d,\\fscx%d\\fscy%d)",set_temp("time",math.random(dur-200)),temp.time+1,set_temp("size",math.random(50,100)*ratio),temp.size,temp.time+2,temp.time+100,25*ratio,25*ratio,temp.time+101,temp.time+102,set_temp("size",math.random(50,100)*ratio),temp.size,temp.time+103,temp.time+200,25*ratio,25*ratio) return tag end
Comment: 0,0:00:00.00,0:00:00.00,Default,Glitter Effects Function,0,0,0,code once,function glitter(dur)  if (dur > 800) then tag =  string.format("\\t(%d,%d,\\fscx%d\\fscy%d)\\t(%d,%d,\\fscx%d\\fscy%d)\\t(%d,%d,\\fscx%d\\fscy%d)\\t(%d,%d,\\fscx%d\\fscy%d)",set_temp("time",math.random(800-800*t,dur)),temp.time+1,set_temp("size",math.random(50,100)*ratio),temp.size,temp.time+2,temp.time+100,25*ratio,25*ratio,temp.time+101,temp.time+102,set_temp("size",math.random(50,100)*ratio),temp.size,temp.time+103,temp.time+200,25*ratio,25*ratio) return tag else return "" end end
Comment: 0,0:00:00.00,0:00:00.00,Default,Bezier Effects Function,0,0,0,code once,function Bezier_Move(...) a = {...} if (j == 1) then  n = (#a-6)/2 for i = 1,n*2-1,2 do x[(i+1)/2] = a[i] end for i = 2, n*2,2 do y[i/2] = a[i] end t1 = a[n*2+1] t2 = a[n*2+2]  dur = t2-t1 c_t = 0 maxloop(2) f_t = 1/(dur/frame_dur) end afterimage_dur = a[n*2+3] x_blur = a[n*2+4] y_blur = a[n*2+5] accel = a[n*2+6] if (afterimage_dur < 0 ) then afterimage_dur = 0 end pos_x, pos_y = Bezier(n,x,y,c_t) n_t = c_t + f_t n_x, n_y = Bezier(n,x,y,n_t) dist = math.sqrt(math.abs(n_x-pos_x)^2+math.abs(n_y-pos_y)^2) a_t =f_t*(max_space/dist) if (a_t > f_t) then a_t = f_t end n_t = c_t + a_t if (n_t < 1) then maxj = j + 1 end retime("presyl",t1+dur*(c_t^accel),t1+dur*(n_t^accel)+afterimage_dur) t = c_t c_t = n_t return string.format("\\move(%f,%f,%f,%f,%f,%f)",pos_x,pos_y,pos_x+x_blur,pos_y+y_blur,dur-dur*c_t,dur-dur*c_t+afterimage_dur) end
Comment: 0,0:00:00.00,0:00:00.00,Default,Bezier Effects Function,0,0,0,code once,function Bezier(n,x,y,t) p_x = 0 p_y = 0 for i = 1, n, 1 do p_y = p_y + y[i] * set_temp("bern",bernstein(i-1,n-1,t)) p_x = p_x + x[i] * temp.bern  end return p_x, p_y end
Comment: 0,0:00:00.00,0:00:00.00,Default,Bezier Effects Function,0,0,0,code once,function bernstein(i,n,t) return (factk(n) / (factk(i)*factk(n-i))) * (t^i) * ((1-t)^(n-i)) end
Comment: 0,0:00:00.00,0:00:00.00,Default,Bezier Effects Function,0,0,0,code once,function factk(n) k = 1 if (n > 1) then for i = 2, n, 1 do k = k * i end end return k end
Comment: 0,0:00:00.00,0:00:00.00,Roma1,Bezier Curve Effect 1,0,0,0,template noblank notext fxgroup A,{!Bezier_Move($center+math.random(30,50)*ratio,$middle+math.random(20,50)*ratio,$center+math.random(-300,300)*ratio,$middle+math.random(-80,80)*ratio,$center+math.random(-300,300)*ratio,$middle-80*ratio,$center,$middle,-800,0,800+800*t,math.random(-50,50)*ratio,math.random(-50,50)*ratio,1)!\an5\fscx!35*x_rat!\fscy!35*x_rat!\1c&HFFFFFF&\3c!_G.ass_color(_G.HSV_to_RGB(360*(syl.i/$syln)*t,1,1))!\shad0\blur!3*x_rat!\t(\3c&HFFFFFF&)\t(!dur-dur*t!,!dur-dur*t+afterimage_dur!,\fscx50\fscy50)\fad(0,300)!string.format("\\fr45\\blur%f\\bord%f\\3a&HA0&\\fscx%d\\fscy%d",3*x_rat,1*x_rat,25*x_rat,25*x_rat)..glitter(line.duration)!\p1}!shape[2]!
Comment: 0,0:00:00.00,0:00:00.00,Roma1,Bezier Curve Effect 1,0,0,0,template noblank notext fxgroup B,{!Bezier_Move($center-math.random(30,50),$middle-math.random(20,50),$center+math.random(-300,300),$middle+math.random(-80,80),$center+math.random(-300,300),$middle+80,$center,$middle,-800,0,800+800*t,math.random(-50,50)*ratio,math.random(-50,50)*ratio,1)!\an5\fscx!35*x_rat!\fscy!35*x_rat!\1c&HFFFFFF&\3c!_G.ass_color(_G.HSV_to_RGB(360*(syl.i/$syln)*t,1,1))!\shad0\blur!3*x_rat!\t(\3c&HFFFFFF&)\t(!dur-dur*t!,!dur-dur*t+afterimage_dur!,\fscx50\fscy50)\fad(0,300)!string.format("\\fr45\\blur%f\\bord%f\\3a&HA0&\\fscx%d\\fscy%d",3*x_rat,1*x_rat,25*x_rat,25*x_rat)..glitter(line.duration)!\p1}!shape[2]!
Comment: 1,0:00:00.00,0:00:00.00,Roma1,text lead-in,0,0,0,template,!retime("start2syl",-1000+syl.i*60,0)!{\fad(1000,0)\blur!3*ratio!\an5\pos($center,$middle)\shad0\bord!3*ratio!\1a&HFF&\3c&HFFFFFF&}
Comment: 2,0:00:00.00,0:00:00.00,Roma1,text hilight,0,0,0,template char notext noblank,!retime("syl",0,400)!{\an5\move($center,$middle,!$center+math.random(-$width,$width)!,!$middle+math.random(-$width,$width)!,0,!$dur+400!)\bord!2*ratio!\blur!2*ratio!\4a&HFF&\3a&H80&\fad(0,300)\3c!_G.ass_color(math.random(255),math.random(255),math.random(255))!\fr45\fscx!35*ratio!\fscy!35*ratio!!glitter(line.duration)!\p1}!shape[2]!
Comment: 0,0:00:00.00,0:00:00.00,Roma2,Bezier Curve Ribbon,0,0,0,template noblank notext,{!Bezier_Move(math.random(0,line.left+line.kara[syl.i].left),math.random($middle-50,$middle+50),$center+math.random(-syl.duration,line.left+line.kara[syl.i].left)*ratio,$middle+math.random(-200,syl.duration/4)*ratio,$center+math.random(-syl.duration,line.left+line.kara[syl.i].left)*ratio,$middle+math.random(-200,syl.duration/4)*ratio,$center+math.random(-syl.duration,line.left+line.kara[syl.i].left)*ratio,$middle+math.random(-200,syl.duration/4)*ratio,$center+math.random(-syl.duration,syl.duration)*ratio,$middle+math.random(-200,syl.duration/4)*ratio,$center,$middle,$center+math.random(-syl.duration,line.left+line.kara[syl.i].left)*ratio,$middle+math.random(-200,syl.duration/4)*ratio,$center+math.random(-syl.duration,line.left+line.kara[syl.i].left)*ratio,$middle+math.random(-100,syl.duration/4)*ratio,$center,$middle,-800,0,400,0,0,1)!\an5\fscx!40*ratio!\fscy!40*ratio!\1c!_G.ass_color(_G.HSV_to_RGB(360*(syl.i/$syln)*t,1,1))!\3c!_G.ass_color(_G.HSV_to_RGB(360*(syl.i/$syln)*t,1,1))!\shad0\blur!1*ratio!\t(\fscx!5*ratio!\fscy!5*ratio!)\fad(100,300)\p1}!shape[3]!
Comment: 1,0:00:00.00,0:00:00.00,Roma2,text lead-in,0,0,0,template,!retime("start2syl",-1000+syl.i*60,0)!{\fad(1000,0)\blur!3*ratio!\an5\pos($center,$middle)\shad0\bord!3*ratio!\1a&HFF&\3c&HFFFFFF&}
Comment: 2,0:00:00.00,0:00:00.00,Roma2,text hilight,0,0,0,template char notext noblank loop 3,!retime("syl",0,400)!{\an5\move($center,$middle,!$center+math.random(-$width,$width)!,!$middle+math.random(-$width,$width)!,0,!$dur+400!)\bord!2*ratio!\blur!2*ratio!\4a&HFF&\3a&H80&\fad(0,300)\3c!_G.ass_color(math.random(255),math.random(255),math.random(255))!\fr45\fscx!35*ratio!\fscy!35*ratio!!glitter(line.duration)!\p1}!shape[2]!
Comment: 0,0:00:00.00,0:00:00.00,Roma3,Bezier Curve BreakOut,0,0,0,template noblank notext fxgroup A,{!Bezier_Move($center+math.random(30,50)*ratio,$middle+math.random(20,50)*ratio,$center+math.random(-300,300)*ratio,$middle+math.random(-80,80)*ratio,$center+math.random(-300,300)*ratio,$middle-80*ratio,$center,$middle,-800,0,((t > 0.95) and $dur+400 or 400),((t > 0.95) and math.random(-syl.width,syl.width) or 0),((t > 0.95) and math.random(-syl.width,syl.width) or 0),0.3)!\an5\fscx!30*ratio!\fscy!30*ratio!\1c&HFFFFFF&\4a&HFF&\t(fscx!10*ratio!\fscy!10*ratio!)\fad(100,300)\blur!2*ratio!!(t > 0.95) and tags(line.duration) or ""!\3c!set_temp("color",_G.ass_color(_G.HSV_to_RGB (45,t^6,1)))!!(t > 0.95) and "\\fr45\\3a&HA0&" or ""!!(t > 0.95) and "\\3c".._G.ass_color(math.random(255),math.random(255),math.random(255)) or ""!!(t < 0.1) and "\\alpha&HFF&" or ""!\p1}!(t > 0.95) and shape[2] or shape[1]!
Comment: 0,0:00:00.00,0:00:00.00,Roma3,Bezier Curve BreakOut,0,0,0,template noblank notext fxgroup B,{!Bezier_Move($center-math.random(30,50),$middle-math.random(20,50),$center+math.random(-300,300),$middle+math.random(-80,80),$center+math.random(-300,300),$middle+80,$center,$middle,-800,0,((t > 0.95) and $dur+400 or 400),((t > 0.95) and math.random(syl.width) or 0),((t > 0.95) and math.random(syl.width) or 0),0.2)!\an5\fscx!30*ratio!\fscy!30*ratio!\t(fscx!10*ratio!\fscy!10*ratio!)\1c&HFFFFFF&\4a&HFF&\fad(100,300)\blur2!(t > 0.95) and tags(line.duration) or ""!\3c!set_temp("color",_G.ass_color(_G.HSV_to_RGB (45,t^6,1)))!!(t > 0.95) and "\\fr45\\3a&H80&" or ""!!(t > 0.95) and "\\3c".._G.ass_color(math.random(255),math.random(255),math.random(255)) or ""!!(t < 0.1) and "\\alpha&HFF&" or ""!\p1}!(t > 0.95) and shape[2] or shape[1]!
Comment: 1,0:00:00.00,0:00:00.00,Roma3,text lead-in,0,0,0,template,!retime("start2syl",-1000+syl.i*60,0)!{\fad(1000,0)\blur3\an5\pos($center,$middle)\shad0\bord3\1a&HFF&\3c&HFFFFFF&\fscx100\fscy100}
Comment: 2,0:00:00.00,0:00:00.00,Roma3,text hilight,0,0,0,template multi,!retime("syl",0,300)!{\an5\pos($center,$middle)\bord2\blur3\t(0,33,\fscx120\fscy120\3c&HFFFFFF&\1c&HFFFFFF&)\t(33,$dur,\fscx100\fscy100)\fad(0,300)}
